PRAGMA foreign_keys=OFF;
BEGIN TRANSACTION;
CREATE TABLE android_metadata (locale TEXT);
INSERT INTO android_metadata VALUES('en_US');
CREATE TABLE `user_account` (`user_name` TEXT, `password` TEXT, `account_type` TEXT, `status` TEXT, `organization_id` INTEGER, `person_id` INTEGER, `is_default_user` INTEGER NOT NULL, `id` INTEGER PRIMARY KEY AUTOINCREMENT, `uuid` TEXT, `created_date` INTEGER NOT NULL, `last_modified_date` INTEGER NOT NULL);
CREATE TABLE `timesheet` (`status` TEXT NOT NULL DEFAULT 'OPEN', `user_account_id` INTEGER NOT NULL, `client_id` INTEGER NOT NULL, `year` INTEGER NOT NULL, `month` INTEGER NOT NULL, `from_date` INTEGER NOT NULL, `to_date` INTEGER NOT NULL, `description` TEXT, `working_days_in_month` INTEGER DEFAULT 0, `working_hours_in_month` INTEGER DEFAULT 0, `id` INTEGER PRIMARY KEY AUTOINCREMENT, `uuid` TEXT, `created_date` INTEGER NOT NULL, `last_modified_date` INTEGER NOT NULL);
CREATE TABLE `timesheet_entry` (`status` TEXT NOT NULL DEFAULT 'OPEN', `timesheet_id` INTEGER NOT NULL, `project_id` INTEGER, `workday_week` INTEGER NOT NULL, `workday_date` INTEGER NOT NULL, `type` TEXT NOT NULL DEFAULT 'REGULAR', `start_time` INTEGER, `end_time` INTEGER, `worked_seconds` INTEGER NOT NULL, `break_seconds` INTEGER, `comments` TEXT, `use_as_default` INTEGER DEFAULT 0, `id` INTEGER PRIMARY KEY AUTOINCREMENT, `uuid` TEXT, `created_date` INTEGER NOT NULL, `last_modified_date` INTEGER NOT NULL, FOREIGN KEY(`timesheet_id`) REFERENCES `timesheet`(`id`) ON UPDATE NO ACTION ON DELETE CASCADE );
CREATE TABLE `invoice` (`timesheet_id` INTEGER NOT NULL, `invoice_number` INTEGER NOT NULL, `invoice_type` TEXT NOT NULL, `recipient_id` INTEGER NOT NULL, `issuer_id` INTEGER NOT NULL, `reference` TEXT, `invoice_status` TEXT NOT NULL DEFAULT 'OPEN', `billing_date` INTEGER NOT NULL, `billing_period_start_date` INTEGER, `billing_period_end_date` INTEGER, `due_date` INTEGER NOT NULL, `vat_percent` INTEGER NOT NULL, `vat_amount` REAL NOT NULL, `amount` REAL NOT NULL DEFAULT 0, `currency` TEXT NOT NULL DEFAULT 'NOK', `invoice_period` TEXT NOT NULL DEFAULT 'monthly', `id` INTEGER PRIMARY KEY AUTOINCREMENT, `uuid` TEXT, `created_date` INTEGER NOT NULL, `last_modified_date` INTEGER NOT NULL);
CREATE TABLE `timesheet_summary` (`timesheet_id` INTEGER, `year` INTEGER, `week_in_year` INTEGER, `summed_by_period` TEXT, `from_date` INTEGER, `to_date` INTEGER, `total_worked_days` INTEGER DEFAULT 0, `total_vacation_days` INTEGER DEFAULT 0, `total_sick_leave_days` INTEGER DEFAULT 0, `total_worked_hours` REAL DEFAULT 0, `total_billed_amount` REAL DEFAULT 0, `currency` TEXT DEFAULT 'NOK', `id` INTEGER PRIMARY KEY AUTOINCREMENT, `uuid` TEXT, `created_date` INTEGER NOT NULL, `last_modified_date` INTEGER NOT NULL);
CREATE TABLE `project` (`client_id` INTEGER NOT NULL, `name` TEXT NOT NULL, `description` TEXT, `status` TEXT NOT NULL, `hourly_rate` INTEGER, `id` INTEGER PRIMARY KEY AUTOINCREMENT, `uuid` TEXT, `created_date` INTEGER NOT NULL, `last_modified_date` INTEGER NOT NULL);
CREATE TABLE `contact_info` (`mobile_number` TEXT, `mobile_number_country_code` TEXT, `email_address` TEXT, `id` INTEGER PRIMARY KEY AUTOINCREMENT, `uuid` TEXT, `created_date` INTEGER NOT NULL, `last_modified_date` INTEGER NOT NULL);
CREATE TABLE `address` (`street_address` TEXT, `postal_code` TEXT, `city` TEXT, `country` TEXT, `country_code` TEXT, `id` INTEGER PRIMARY KEY AUTOINCREMENT, `uuid` TEXT, `created_date` INTEGER NOT NULL, `last_modified_date` INTEGER NOT NULL);
CREATE TABLE `person` (`address_id` INTEGER, `contact_info_id` INTEGER, `full_name` TEXT NOT NULL, `date_of_birth` INTEGER, `social_security_number` TEXT, `gender` TEXT, `marital_status` TEXT, `id` INTEGER PRIMARY KEY AUTOINCREMENT, `uuid` TEXT, `created_date` INTEGER NOT NULL, `last_modified_date` INTEGER NOT NULL);
CREATE TABLE `organization` (`business_address_id` INTEGER, `postal_address_id` INTEGER, `invoice_address_id` INTEGER, `contact_info_id` INTEGER, `organization_name` TEXT NOT NULL, `organization_number` TEXT NOT NULL, `organization_industry_type` TEXT, `bank_account_number` TEXT, `id` INTEGER PRIMARY KEY AUTOINCREMENT, `uuid` TEXT, `created_date` INTEGER NOT NULL, `last_modified_date` INTEGER NOT NULL);
CREATE TABLE `invoice_attachment` (`invoice_id` INTEGER NOT NULL, `file_name` TEXT NOT NULL, `type` TEXT, `file_type` TEXT NOT NULL, `file_content` BLOB NOT NULL, `id` INTEGER PRIMARY KEY AUTOINCREMENT, `uuid` TEXT, `created_date` INTEGER NOT NULL, `last_modified_date` INTEGER NOT NULL);
CREATE TABLE `client` (`organization_id` INTEGER, `contact_person_id` INTEGER, `name` TEXT, `status` TEXT NOT NULL, `invoice_type` TEXT, `invoice_email_address` TEXT, `id` INTEGER PRIMARY KEY AUTOINCREMENT, `uuid` TEXT, `created_date` INTEGER NOT NULL, `last_modified_date` INTEGER NOT NULL);
CREATE TABLE `integration` (`system` TEXT NOT NULL, `integration_type` TEXT NOT NULL, `base_url` TEXT, `schema_url` TEXT, `authentication_type` TEXT, `status` TEXT NOT NULL, `user_name` TEXT, `password` TEXT, `access_token` TEXT, `read_timeout_ms` INTEGER, `connection_timeout_ms` INTEGER, `http_headers_content_type` TEXT, `id` INTEGER PRIMARY KEY AUTOINCREMENT, `uuid` TEXT, `created_date` INTEGER NOT NULL, `last_modified_date` INTEGER NOT NULL);
CREATE TABLE room_master_table (id INTEGER PRIMARY KEY,identity_hash TEXT);
INSERT INTO room_master_table VALUES(42,'c04bf3b9daf0535ce85e2ab1ced62257');
DELETE FROM sqlite_sequence;
CREATE UNIQUE INDEX `index_user_account_user_name` ON `user_account` (`user_name`);
CREATE UNIQUE INDEX `index_timesheet_user_account_id_client_id_year_month` ON `timesheet` (`user_account_id`, `client_id`, `year`, `month`);
CREATE UNIQUE INDEX `index_timesheet_entry_timesheet_id_workday_date` ON `timesheet_entry` (`timesheet_id`, `workday_date`);
CREATE UNIQUE INDEX `index_invoice_timesheet_id_recipient_id` ON `invoice` (`timesheet_id`, `recipient_id`);
CREATE UNIQUE INDEX `index_timesheet_summary_timesheet_id_year_week_in_year` ON `timesheet_summary` (`timesheet_id`, `year`, `week_in_year`);
CREATE UNIQUE INDEX `index_project_client_id_name` ON `project` (`client_id`, `name`);
CREATE UNIQUE INDEX `index_address_street_address` ON `address` (`street_address`);
CREATE UNIQUE INDEX `index_person_full_name` ON `person` (`full_name`);
CREATE UNIQUE INDEX `index_organization_organization_number` ON `organization` (`organization_number`);
CREATE UNIQUE INDEX `index_invoice_attachment_invoice_id_type_file_name_file_type` ON `invoice_attachment` (`invoice_id`, `type`, `file_name`, `file_type`);
CREATE UNIQUE INDEX `index_client_organization_id` ON `client` (`organization_id`);
CREATE UNIQUE INDEX `index_integration_system_integration_type` ON `integration` (`system`, `integration_type`);
CREATE VIEW `TimesheetView` AS SELECT * FROM timesheet_entry;
COMMIT;